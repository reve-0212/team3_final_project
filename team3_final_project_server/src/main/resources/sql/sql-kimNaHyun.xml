<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.team3_final_project_server.KimNaHyun.KNHMapper">

    <insert id="getRsvIdx" parameterType="com.example.team3_final_project_server.dto.ReservationDTO">
        INSERT INTO reservation (
        user_idx,
        res_idx,
        menu_idx,
        rsv_people,
        rsv_man,
        rsv_woman,
        rsv_baby,
        rsv_date,
        rsv_time
        ) VALUES (
        1,
        1,
        #{menuIdx},
        #{rsvPeople},
        #{rsvMan},
        #{rsvWoman},
        #{rsvBaby},
        #{rsvDate},
        #{rsvTime}
        )
    </insert>

    <update id="updateRsvDateTime" parameterType="com.example.team3_final_project_server.dto.ReservationDTO">
        UPDATE reservation
        SET rsv_date = #{rsvDate},
        rsv_time = #{rsvTime}
        WHERE reservation_idx = 1
    </update>

    <select id="getAllMenus" resultType="com.example.team3_final_project_server.dto.MenuDTO">
        SELECT
            menu_idx, res_idx, menu_name, menu_price, menu_explanation, menu_image
        FROM
            menu
    </select>

</mapper>
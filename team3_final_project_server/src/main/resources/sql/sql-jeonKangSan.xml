<?xml version="1.0" encoding="UTF-8"?>
<!--sql-jeonKangSan.xml-->
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.team3_final_project_server.JunKangSan.JKSMapper">

    <select id="getAllRestaurants" resultType="com.example.team3_final_project_server.dto.RestaurantDTO">
        SELECT *
        FROM restaurant
    </select>

    <select id="getAllBestMenus" parameterType="int" resultType="com.example.team3_final_project_server.dto.BestMenuDTO">
        SELECT *
        FROM bestmenu
        WHERE testres_idx = #{resIdx}
        LIMIT 3
    </select>

    <select id="getAllReviews" parameterType="int" resultType="com.example.team3_final_project_server.dto.ReviewDTO">
        SELECT *
        FROM review
        WHERE res_idx = #{resIdx}
    </select>

    <select id="getLatestAnnounce" resultType="com.example.team3_final_project_server.dto.AnnounceDTO">
        SELECT *
        FROM announce
        ORDER BY announce_idx DESC
        LIMIT 1
    </select>

</mapper>